(function(){"use strict";var t={446:function(t,o,r){var n=r(963),e=r(252);const i={class:"page"},c={class:"page__header"},u={class:"page__header__nav"},a=(0,e._)("img",{src:"img/logo.svg",alt:"Logo",class:"page__header__nav__logo__img"},null,-1);function s(t,o){const r=(0,e.up)("router-link"),n=(0,e.up)("router-view");return(0,e.wg)(),(0,e.iD)("div",i,[(0,e._)("header",c,[(0,e._)("nav",u,[(0,e.Wm)(r,{to:"/",class:"page__header__nav__logo"},{default:(0,e.w5)((()=>[a])),_:1}),(0,e.Wm)(r,{to:"/create",class:"page__header__nav__create"},{default:(0,e.w5)((()=>[(0,e.Uk)("Create")])),_:1})])]),(0,e.Wm)(n,{class:"page__main"})])}var l=r(744);const p={},d=(0,l.Z)(p,[["render",s]]);var _=d,m=r(201),f=r(577),h={class:"home"},g={class:"home__top"},v={class:"home__top-form-group"},b=(0,e._)("label",{for:"search",class:"home__top-form-group__label"},"Search:",-1),y={class:"home__top-form-group"},w=(0,e._)("label",{for:"sortOption",class:"home__top-form-group__label"},"Sort by:",-1),k=["value"];function P(t,o,r,i,c,u){var a=(0,e.up)("ProductList");return(0,e.wg)(),(0,e.iD)("div",h,[(0,e._)("div",g,[(0,e._)("div",v,[b,(0,e.wy)((0,e._)("input",{id:"search","onUpdate:modelValue":o[0]||(o[0]=function(o){return t.query=o}),type:"text",class:"home__top-form-group__search"},null,512),[[n.nr,t.query]])]),(0,e._)("div",y,[w,(0,e.wy)((0,e._)("select",{id:"sortOption","onUpdate:modelValue":o[1]||(o[1]=function(o){return t.sortOption=o}),class:"home__top-form-group__select"},[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(t.SortOptions,(function(t,o){return(0,e.wg)(),(0,e.iD)("option",{key:t,value:t},(0,f.zw)(o),9,k)})),128))],512),[[n.bM,t.sortOption]])])]),(0,e.Wm)(a,{products:t.products},null,8,["products"])])}var C=r(582),U={class:"products"};function D(t,o,r,n,i,c){var u=(0,e.up)("ProductItem");return(0,e.wg)(),(0,e.iD)("div",U,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(t.products,(function(t){return(0,e.wg)(),(0,e.j4)(u,{key:t.id,product:t},null,8,["product"])})),128))])}var O={class:"product__photo-container"},j=["src"],x={class:"product__info"},V={class:"product__info__title"},S={class:"product__info__title-text"},z={class:"product__info__rating"},Z=(0,e._)("p",{class:"product__info__rating-text"},"Rating:",-1),$={class:"product__info__rating-number"},q={class:"product__info__stock"},T=(0,e._)("p",{class:"product__info__stock-text"},"Stock:",-1),M={class:"product__info__stock-number"},H={class:"product__info__price"},L=(0,e._)("p",{class:"product__info__price-text"},"Price:",-1),B={class:"product__info__price-number"};function R(t,o,r,n,i,c){var u=(0,e.up)("Buttons");return(0,e.wg)(),(0,e.iD)("article",{class:"product",onClick:o[0]||(o[0]=function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];return t.clickHandler&&t.clickHandler.apply(t,o)})},[(0,e._)("div",O,[(0,e._)("img",{src:t.product.thumbnail,alt:"Product photo",class:"product__photo-container-img"},null,8,j)]),(0,e._)("div",x,[(0,e._)("div",V,[(0,e._)("h3",S,(0,f.zw)(t.product.title),1)]),(0,e._)("div",z,[Z,(0,e._)("p",$,(0,f.zw)(t.product.rating),1)]),(0,e._)("div",q,[T,(0,e._)("p",M,(0,f.zw)(t.product.stock),1)]),(0,e._)("div",H,[L,(0,e._)("p",B,(0,f.zw)("$".concat(t.actualPrice)),1)]),(0,e.Wm)(u)])])}var F=function(t,o){return o?Math.ceil(t*(100-o))/100:t},W={class:"buttons"},E=(0,e._)("button",{type:"button",class:"buttons-buy"}," buy ",-1),I=(0,e._)("button",{type:"button",class:"buttons-favourites"},[(0,e._)("img",{src:"img/icons/heart.svg",alt:"Heart",class:"buttons-favourites__icon"})],-1),J=[E,I];function K(t,o,r,n,i,c){return(0,e.wg)(),(0,e.iD)("div",W,J)}var Y=(0,e.aZ)({name:"ButtonsVue"});const A=(0,l.Z)(Y,[["render",K]]);var N=A,G=(0,e.aZ)({name:"ProductItem",components:{Buttons:N},props:{product:{type:Object,required:!0}},data:function(){return{actualPrice:0}},methods:{clickHandler:function(){this.$router.push("/products/".concat(this.product.id))}},mounted:function(){this.actualPrice=F(this.product.price,this.product.discountPercentage)}});const Q=(0,l.Z)(G,[["render",R]]);var X=Q,tt=(0,e.aZ)({name:"ProductList",components:{ProductItem:X},props:{products:{type:Array,required:!0}}});const ot=(0,l.Z)(tt,[["render",D]]);var rt,nt=ot,et=r(262),it=(0,et.qj)({products:[]});(function(t){t["Default"]="default",t["Title"]="title",t["Rating"]="rating"})(rt||(rt={}));var ct=(0,e.aZ)({name:"HomeView",components:{ProductList:nt},data:function(){return{query:"",sortOption:rt.Default,SortOptions:rt}},computed:{products:function(){var t=this,o=(0,C.ev)([],it.products,!0);return this.query.length>=3&&(o=o.filter((function(o){return o.title.toLowerCase().includes(t.query.toLowerCase().trim())}))),o.sort((function(o,r){switch(t.sortOption){case rt.Title:return o.title.localeCompare(r.title);case rt.Rating:return r.rating-o.rating;default:return 0}})),o}},mounted:function(){return(0,C.mG)(this,void 0,void 0,(function(){var t,o,r;return(0,C.Jh)(this,(function(n){switch(n.label){case 0:if(0!==it.products.length)return[3,5];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,fetch("https://dummyjson.com/products")];case 2:if(t=n.sent(),!t.ok)throw new Error("Network response was not ok");return[4,t.json()];case 3:return o=n.sent(),it.products=o.products,[3,5];case 4:return r=n.sent(),console.error("There was a problem with the fetch operation:",r),[3,5];case 5:return[2]}}))}))}});const ut=(0,l.Z)(ct,[["render",P]]);var at=ut,st={class:"form"},lt={class:"form__title"},pt={class:"form-group"},dt=(0,e._)("label",{for:"title",class:"form-group__label"},"Title:",-1),_t={class:"form-group"},mt=(0,e._)("label",{for:"description",class:"form-group__label"},"Description:",-1),ft={class:"form-group"},ht=(0,e._)("label",{for:"price",class:"form-group__label"},"Price:",-1),gt={class:"form-group"},vt=(0,e._)("label",{for:"discountPercentage",class:"form-group__label"},"Discount Percentage:",-1),bt={class:"form-group"},yt=(0,e._)("label",{for:"rating",class:"form-group__label"},"Rating:",-1),wt={class:"form-group"},kt=(0,e._)("label",{for:"stock",class:"form-group__label"},"Stock:",-1),Pt={class:"form-group"},Ct=(0,e._)("label",{for:"brand",class:"form-group__label"},"Brand:",-1),Ut={class:"form-group"},Dt=(0,e._)("label",{for:"category",class:"form-group__label"},"Category:",-1),Ot={class:"form-group"},jt=(0,e._)("label",{for:"thumbnail",class:"form-group__label"},"Thumbnail URL:",-1),xt={class:"form-group"},Vt=(0,e._)("label",{class:"form-group__label"},"Images URLs:",-1),St=["onUpdate:modelValue"],zt=["onClick"],Zt={class:"form-group__container"};function $t(t,o,r,i,c,u){return(0,e.wg)(),(0,e.iD)("div",st,[(0,e._)("h1",lt,(0,f.zw)(0!==t.product.id?"Update product":"Add new product"),1),(0,e._)("form",{onSubmit:o[13]||(o[13]=(0,n.iM)((function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];return t.handleFormSubmit&&t.handleFormSubmit.apply(t,o)}),["prevent"])),class:"form__content"},[(0,e._)("div",pt,[dt,(0,e.wy)((0,e._)("input",{id:"title","onUpdate:modelValue":o[0]||(o[0]=function(o){return t.product.title=o}),type:"text",class:"form-group__input",required:""},null,512),[[n.nr,t.product.title]])]),(0,e._)("div",_t,[mt,(0,e.wy)((0,e._)("input",{id:"description","onUpdate:modelValue":o[1]||(o[1]=function(o){return t.product.description=o}),class:"form-group__input",required:""},null,512),[[n.nr,t.product.description]])]),(0,e._)("div",ft,[ht,(0,e.wy)((0,e._)("input",{id:"price","onUpdate:modelValue":o[2]||(o[2]=function(o){return t.product.price=o}),class:"form-group__input",type:"number",min:"0",required:""},null,512),[[n.nr,t.product.price,void 0,{number:!0}]])]),(0,e._)("div",gt,[vt,(0,e.wy)((0,e._)("input",{id:"discountPercentage","onUpdate:modelValue":o[3]||(o[3]=function(o){return t.product.discountPercentage=o}),class:"form-group__input",type:"number",min:"0",max:"100"},null,512),[[n.nr,t.product.discountPercentage,void 0,{number:!0}]])]),(0,e._)("div",bt,[yt,(0,e.wy)((0,e._)("input",{id:"rating","onUpdate:modelValue":o[4]||(o[4]=function(o){return t.product.rating=o}),type:"number",class:"form-group__input",min:"0",max:"5",step:"0.1"},null,512),[[n.nr,t.product.rating,void 0,{number:!0}]])]),(0,e._)("div",wt,[kt,(0,e.wy)((0,e._)("input",{id:"stock","onUpdate:modelValue":o[5]||(o[5]=function(o){return t.product.stock=o}),type:"number",class:"form-group__input",min:"0"},null,512),[[n.nr,t.product.stock,void 0,{number:!0}]])]),(0,e._)("div",Pt,[Ct,(0,e.wy)((0,e._)("input",{id:"brand","onUpdate:modelValue":o[6]||(o[6]=function(o){return t.product.brand=o}),class:"form-group__input",type:"text"},null,512),[[n.nr,t.product.brand]])]),(0,e._)("div",Ut,[Dt,(0,e.wy)((0,e._)("input",{id:"category","onUpdate:modelValue":o[7]||(o[7]=function(o){return t.product.category=o}),class:"form-group__input",type:"text"},null,512),[[n.nr,t.product.category]])]),(0,e._)("div",Ot,[jt,(0,e.wy)((0,e._)("input",{id:"thumbnail","onUpdate:modelValue":o[8]||(o[8]=function(o){return t.product.thumbnail=o}),class:"form-group__input",type:"url"},null,512),[[n.nr,t.product.thumbnail]])]),(0,e._)("div",xt,[Vt,((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(t.product.images,(function(o,r){return(0,e.wg)(),(0,e.iD)("div",{key:o,class:"form-group__container"},[(0,e.wy)((0,e._)("input",{"onUpdate:modelValue":function(o){return t.product.images[r]=o},class:"form-group__container-input",type:"url"},null,8,St),[[n.nr,t.product.images[r]]]),(0,e._)("img",{src:"img/icons/cross.svg",alt:"Delete",class:"form-group__container-icon",onClick:(0,n.iM)((function(r){return t.deletePhoto(o)}),["prevent"])},null,8,zt)])})),128)),(0,e._)("div",Zt,[(0,e.wy)((0,e._)("input",{type:"url",class:"form-group__container-input","onUpdate:modelValue":o[9]||(o[9]=function(o){return t.photoUrl=o})},null,512),[[n.nr,t.photoUrl]]),(0,e._)("img",{src:"img/icons/plus.svg",alt:"Add",class:"form-group__container-icon",onClick:o[10]||(o[10]=(0,n.iM)((function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];return t.addPhoto&&t.addPhoto.apply(t,o)}),["prevent"]))})])]),(0,e._)("button",{type:"button",class:"form__content-button form__content-button--cancel",onClick:o[11]||(o[11]=(0,n.iM)((function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];return t.handleCancelClick&&t.handleCancelClick.apply(t,o)}),["prevent"]))}," Cancel "),(0,e._)("button",{type:"submit",class:"form__content-button form__content-button--add",onClick:o[12]||(o[12]=(0,n.iM)((function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];return t.handleFormSubmit&&t.handleFormSubmit.apply(t,o)}),["prevent"]))},(0,f.zw)(0!==t.product.id?"Update":"Create"),1)],32)])}var qt=(0,e.aZ)({name:"CreateView",data:function(){return{product:{id:0,title:"",description:"",price:0,discountPercentage:0,rating:5,stock:0,brand:"",category:"",thumbnail:"",images:[]},photoUrl:""}},methods:{addPhoto:function(){this.photoUrl.length>0&&this.product.images.push(this.photoUrl)},deletePhoto:function(t){this.product.images=this.product.images.filter((function(o){return o!==t}))},handleFormSubmit:function(){var t=this;this.product.title&&this.product.description&&this.product.price&&this.product.rating&&this.product.stock&&this.product.brand&&this.product.category&&this.product.thumbnail&&(0!==this.product.id?101!==this.product.id?fetch("https://dummyjson.com/products/".concat(this.product.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:this.product.title,description:this.product.description,price:this.product.price,discountPercentage:this.product.discountPercentage,rating:this.product.rating,stock:this.product.stock,brand:this.product.brand,category:this.product.category,thumbnail:this.product.thumbnail,images:(0,C.ev)([],this.product.images,!0)})}).then((function(t){return t.json()})).then((function(o){t.product=(0,C.pi)({},o),it.products=it.products.map((function(t){return t.id===o.id?o:t})),t.$router.push("/")})):(it.products=it.products.map((function(o){return o.id===t.product.id?t.product:o})),this.$router.push("/")):fetch("https://dummyjson.com/products/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:this.product.title,description:this.product.description,price:+this.product.price,discountPercentage:+this.product.discountPercentage,rating:+this.product.rating,stock:+this.product.stock,brand:this.product.brand,category:this.product.category,thumbnail:this.product.thumbnail,images:(0,C.ev)([],this.product.images,!0)})}).then((function(t){return t.json()})).then((function(o){it.products=(0,C.ev)((0,C.ev)([],it.products,!0),[(0,C.pi)({},o)],!1),t.$router.push("/")})))},handleCancelClick:function(){this.$router.push("/")}},mounted:function(){var t=this.$route.params.id,o=it.products.find((function(o){return o.id===+t}));o&&(this.product=(0,C.pi)({},o))}});const Tt=(0,l.Z)(qt,[["render",$t]]);var Mt=Tt,Ht={class:"details"},Lt={class:"details__top"},Bt={class:"details__top__title"},Rt={class:"details__top__buttons"},Ft={class:"details__main"},Wt={class:"details__main__photos"},Et={class:"details__main__photos__block"},It=["src","onClick"],Jt={class:"details__main__main-photo"},Kt=["src"],Yt={class:"details__main__info"},At={class:"details__main__info-description"},Nt={class:"details__main__info__category"},Gt=(0,e._)("p",{class:"details__main__info__category-text"},"Category:",-1),Qt={class:"details__main__info__category-value"},Xt={class:"details__main__info__brand"},to=(0,e._)("p",{class:"details__main__info__brand-text"},"Brand:",-1),oo={class:"details__main__info__brand-value"},ro={class:"details__main__info__rating"},no=(0,e._)("p",{class:"details__main__info__rating-text"},"Rating:",-1),eo={class:"details__main__info__rating-value"},io={class:"details__main__info__stock"},co=(0,e._)("p",{class:"details__main__info__stock-text"},"Stock:",-1),uo={class:"details__main__info__stock-value"},ao={class:"details__main__info__price"},so=(0,e._)("p",{class:"details__main__info__price-text"},"Price:",-1),lo={class:"details__main__info__price-prices"},po={key:0,class:"details__main__info__price-prices-old"},_o={class:"details__main__info__price-prices-discount"};function mo(t,o,r,i,c,u){var a=(0,e.up)("Buttons");return(0,e.wg)(),(0,e.iD)("article",Ht,[(0,e._)("div",Lt,[(0,e._)("h3",Bt,(0,f.zw)(t.product.title),1),(0,e._)("div",Rt,[(0,e._)("button",{type:"button",class:"details__top__buttons-button",onClick:o[0]||(o[0]=(0,n.iM)((function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];return t.handleUpdateClick&&t.handleUpdateClick.apply(t,o)}),["prevent"]))}," Update "),(0,e._)("button",{type:"button",class:"details__top__buttons-button details__top__buttons-button--delete",onClick:o[1]||(o[1]=(0,n.iM)((function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];return t.handleDeleteClick&&t.handleDeleteClick.apply(t,o)}),["prevent"]))}," Delete ")])]),(0,e._)("div",Ft,[(0,e._)("div",Wt,[(0,e._)("div",Et,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(t.product.images,(function(o){return(0,e.wg)(),(0,e.iD)("div",{key:o,class:(0,f.C_)(["details__main__photos__block__container",{"details__main__photos__block__container--active":t.currentPhoto===o}])},[(0,e._)("img",{src:o,alt:"More photos",class:"details__main__photos__block__container-item",onClick:function(r){return t.handlePhotoClick(o)}},null,8,It)],2)})),128))]),(0,e._)("div",Jt,[(0,e._)("img",{src:t.currentPhoto,alt:"Product photo",class:"details__main__main-photo-img"},null,8,Kt)])]),(0,e._)("div",Yt,[(0,e._)("p",At,(0,f.zw)(t.product.description),1),(0,e._)("div",Nt,[Gt,(0,e._)("p",Qt,(0,f.zw)(t.product.category),1)]),(0,e._)("div",Xt,[to,(0,e._)("p",oo,(0,f.zw)(t.product.brand),1)]),(0,e._)("div",ro,[no,(0,e._)("p",eo,(0,f.zw)(t.product.rating),1)]),(0,e._)("div",io,[co,(0,e._)("p",uo,(0,f.zw)(t.product.stock),1)]),(0,e._)("div",ao,[so,(0,e._)("div",lo,[t.product.price!==t.actualPrice?((0,e.wg)(),(0,e.iD)("p",po,(0,f.zw)("$".concat(t.product.price)),1)):(0,e.kq)("",!0),(0,e._)("p",_o,(0,f.zw)("$".concat(t.actualPrice)),1)])]),(0,e.Wm)(a)])])])}var fo=(0,e.aZ)({name:"ProductDetailsView",components:{Buttons:N},data:function(){return{product:{},currentPhoto:"",actualPrice:0}},methods:{handlePhotoClick:function(t){this.currentPhoto=t},handleUpdateClick:function(){this.$router.push({name:"update",params:{id:this.product.id}})},handleDeleteClick:function(){var t=this;101!==this.product.id?fetch("https://dummyjson.com/products/".concat(this.product.id),{method:"DELETE"}).then((function(t){return t.json()})).then((function(o){it.products=(0,C.ev)([],it.products.filter((function(t){return t.id!==o.id})),!0),t.$router.push("/")})):(it.products=(0,C.ev)([],it.products.filter((function(o){return o.id!==t.product.id})),!0),this.$router.push("/"))}},mounted:function(){return(0,C.mG)(this,void 0,void 0,(function(){var t;return(0,C.Jh)(this,(function(o){return t=this.$route.params.id||0,this.product=it.products.find((function(o){return o.id===+t}))||{},this.currentPhoto=this.product.images[0],this.actualPrice=F(this.product.price,this.product.discountPercentage),[2]}))}))}});const ho=(0,l.Z)(fo,[["render",mo]]);var go=ho,vo=[{path:"/",name:"home",component:at},{path:"/products/:id",name:"productDetails",component:go},{path:"/create",name:"create",component:Mt},{path:"/update/:id",name:"update",component:Mt}],bo=(0,m.p7)({history:(0,m.PO)("/Universal-Market/"),routes:vo}),yo=bo;(0,n.ri)(_).use(yo).mount("#app")}},o={};function r(n){var e=o[n];if(void 0!==e)return e.exports;var i=o[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.m=t,function(){var t=[];r.O=function(o,n,e,i){if(!n){var c=1/0;for(l=0;l<t.length;l++){n=t[l][0],e=t[l][1],i=t[l][2];for(var u=!0,a=0;a<n.length;a++)(!1&i||c>=i)&&Object.keys(r.O).every((function(t){return r.O[t](n[a])}))?n.splice(a--,1):(u=!1,i<c&&(c=i));if(u){t.splice(l--,1);var s=e();void 0!==s&&(o=s)}}return o}i=i||0;for(var l=t.length;l>0&&t[l-1][2]>i;l--)t[l]=t[l-1];t[l]=[n,e,i]}}(),function(){r.d=function(t,o){for(var n in o)r.o(o,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)}}(),function(){var t={143:0};r.O.j=function(o){return 0===t[o]};var o=function(o,n){var e,i,c=n[0],u=n[1],a=n[2],s=0;if(c.some((function(o){return 0!==t[o]}))){for(e in u)r.o(u,e)&&(r.m[e]=u[e]);if(a)var l=a(r)}for(o&&o(n);s<c.length;s++)i=c[s],r.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return r.O(l)},n=self["webpackChunkartcodevision_testtask"]=self["webpackChunkartcodevision_testtask"]||[];n.forEach(o.bind(null,0)),n.push=o.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998],(function(){return r(446)}));n=r.O(n)})();
//# sourceMappingURL=app.bd0b48ec.js.map